{% load static %}

<link rel="stylesheet" href="{% static 'css/header.css' %}?v=20231113">

<header class="topbar" role="banner">
  <div class="container">
    <a class="logo" href="{% url 'home' %}" aria-label="Inicio">
        <img src="{% static 'images/charmaway_logo.png' %}" alt="CharmAway logo">
        <div style="font-weight:700; font-size:18px; color:#ffffff; margin-left:68px" >CharmAway</div>
    </a>

    <nav class="nav">
      <a href="{% url 'home' %}">Home</a>
      <a href="{% url 'catalog:catalog' %}">Cat√°logo</a>
      {% if user.is_staff %}
      <a href="{% url 'administrator:admin_dashboard' %}">Admin</a>
      {% endif %}
    </nav>

    <div class="search-wrap">
      <form action="{% url 'catalog:catalog' %}" method="get" class="search" role="search">
        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M21 21l-4.35-4.35" stroke="#333" stroke-width="2" stroke-linecap="round"/>
          <circle cx="11" cy="11" r="6" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input type="search" name="q" placeholder="Buscar producto" aria-label="Buscar producto" value="{{ request.GET.q }}" />
      </form>
    </div>

    <div class="actions">
      <a class="action-btn" href="{% url 'view_cart' %}">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M6 6h15l-1.5 9h-13L4 4H2" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span class="cart-bubble">{{ cart_item_count }}</span>
      </a>
      <a class="action-btn" href="{% url 'order_lookup' %}">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M3 4v16M6 4v16M9 4h1v16H9M13 4v16M16 4h2v16h-2M21 4v16" 
                stroke="white" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </a>
      <a class="action-btn" href="{% if user.is_authenticated %}{% url 'profile' %}{% else %}{% url 'login' %}{% endif %}">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 12a4 4 0 100-8 4 4 0 000 8zM4 20a8 8 0 0116 0" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>
  </div>
</header>
