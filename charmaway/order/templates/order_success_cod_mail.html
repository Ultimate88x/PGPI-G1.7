{% block content %}
<div>
    <h1>¡Gracias por tu pedido!</h1>

    <p>Tu pedido <strong>#{{ order.public_id }}</strong> se ha creado correctamente.</p>
    <p>Lo pagarás <strong>a contrarreembolso</strong> cuando llegue a tu domicilio.</p>

    <h2>Resumen del pedido</h2>
    <div>
        {% for detail in order.orderdetail_set.all %}
            <div style="display:flex; justify-content:space-between; padding:4px 0;">
                <span>{{ detail.product.name }} (x{{ detail.quantity }})</span>
                <span>{{ detail.subtotal|floatformat:2 }} €</span>
            </div>
        {% endfor %}
        <div style="display:flex; justify-content:space-between; padding:4px 0; border-top:1px solid #ccc; margin-top:8px;">
            <strong>Gastos de envío:</strong>
            <strong>{{ order.shipping_cost|floatformat:2 }} €</strong>
        </div>
        <div style="display:flex; justify-content:space-between; padding:4px 0; border-top:1px solid #000; margin-top:4px;">
            <strong>Total:</strong>
            <strong>{{ order.final_price|floatformat:2 }} €</strong>
        </div>
    </div>
</div>
{% endblock %}
