{% extends 'base.html' %}
{% block title %}Registro{% endblock %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/auth.css' %}">

<div class="card">
  <h1>Registro</h1>
  <div class="avatar">
    <svg viewBox="0 0 24 24" fill="none">
      <path d="M12 12a4 4 0 100-8 4 4 0 000 8z" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <form method="post" action="{% url 'register' %}">
    {% csrf_token %}

    <div class="form-grid">

        <div class="input">
        <input type="text" name="name" placeholder="Nombre" required>
        </div>
        <div class="input">
        <input type="text" name="surnames" placeholder="Apellidos" required>
        </div>
        <div class="input">
        <input type="email" name="email" placeholder="Correo electrónico" required>
        </div>
        <div class="input">
        <input type="text" name="phone" placeholder="Teléfono" required>
        </div>
        <div class="input">
        <input type="text" name="address" placeholder="Dirección" required>
        </div>
        <div class="input">
        <input type="text" name="city" placeholder="Ciudad" required>
        </div>
        <div class="input">
        <input type="text" name="zip_code" placeholder="Código Postal" required>
        </div>
        <div class="input">
        <input type="password" name="password1" placeholder="Contraseña" required>
        </div>
        <div class="input">
        <input type="password" name="password2" placeholder="Repetir contraseña" required>
        </div>

    </div>

    {% if form.errors %}
      <div style="width:100%; max-width:560px; background-color:#ffe5e5; border:1px solid #ff4c4c; color:#a80000; padding:16px; border-radius:8px; margin:0 auto 16px auto; text-align:left; box-sizing:border-box;">
        <div style="font-weight:600; margin-bottom:8px; font-size:15px; display:flex; align-items:center; gap:6px;">
          <strong>Se encontraron errores:</strong>
        </div>
        <ul style="list-style-type:disc; padding-left:20px; margin:0;">
          {% for field in form %}
            {% for error in field.errors %}
              <li style="margin-bottom:4px;"><span style="font-weight:600;">{{ field.label }}:</span> {{ error }}</li>
            {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
            <li style="margin-bottom:4px;">{{ error }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}


    
    <div class="buttons">
      <button type="button" class="btn cancel" onclick="history.back()">Cancelar</button>
      <button type="submit" class="btn login">Registrarse</button>
    </div>
  </form>

  <p class="register">¿Ya tienes cuenta? <a href="{% url 'login' %}">Iniciar sesión</a></p>
</div>
{% endblock %}
